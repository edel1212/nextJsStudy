# NextJs

```properties
# â„¹ï¸ NextJsì˜ íŠ¹ì§•
#  - `Framework`ì´ë‹¤.
#  - ì •í•´ì§„ í‹€(`Frame`)ì´ ì •í•´ì ¸ ìˆê³  ê·¸ í‹€ì— ë§ì¶°ì„œ ê°œë°œì„ ì§„í–‰í•˜ë©´ ì‰½ê²Œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
#  - ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•œ Libraryê°€ ì„¤ì¹˜ ë˜ì–´ ìˆìœ¼ë©° í•„ìš”í•œ ê²½ìš° ì¶”ê°€í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í•˜ë©´ ëœë‹¤.
```

## `Library`ì™€`Framework`ì˜ ì°¨ì´

- Library
  - ë‚´ê°€ ì‚¬ìš© í•˜ì—¬ ê°œë°œë§Œ í•˜ëŠ” ê°œë…ì´ë‹¤ ëŒ€ì²´ë¡œ **ë‚´ê°€ ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ ê°œë°œ**í•˜ë©´ ë˜ëŠ” ê°œë…ì´ë‹¤.
    - ê¸°ë³¸ì ì¸ `React.js`ë¡œ ìƒê° í•˜ë©° ë¹„êµí•˜ë©´ ì‰½ë‹¤
      - í‹€ì´ ì—†ê¸°ì— ììœ ë¡œì›€ ë‚´ê°€ ì§ì ‘ ê¸°ì¤€ì„ ë§Œë“¤ì–´ ê°œë°œí•˜ë©´ ëœë‹¤.
        - ë””ë ‰í† ë¦¬ êµ¬ì¡°ë‚˜ íŒŒì¼ëª… ë“± í‹€ì´ ì •í•´ì ¸ ìˆì§€ ì•Šë‹¤.
- Framework
  - í‹€ì´ ì •í•´ì ¸ìˆì–´ ê·¸ **í‹€ì— ë§ì¶° ê°œë°œ**í•˜ë©´ ëœë‹¤.
  - NextJsë¥¼ ìƒê°í•˜ì—¬ ë¹„êµí•˜ë©´ ëœë‹¤.
  - í‹€ì´ ì •í•´ì ¸ ìˆê¸°ì— ì •í•´ì§„ ë°©ì‹ì˜ ë¼ìš°íŒ… ë°©ì‹ `Page or App Route`ë°©ì‹ì— ë§ì¶° ë””ë ‰í† ë¦¬ êµ¬ì¡° ë° íŒŒì¼ëª…ì´ ìˆë‹¤.
    - ì •í•´ì§„ í•´ë‹¹ í”„ë ˆì„ì›Œí¬ì— ì„ ì ë˜ì–´ ìˆëŠ” ë³€ìˆ˜ëª…ë“±ì´ ì •í•´ì ¸ ìˆë‹¤.
  - `IoC(Inversion of Control) - ì œì–´ì˜ ì—­ì „`ì„ ìƒê°í•˜ë©´ ëœë‹¤.
    - ë©”ì†Œë“œë‚˜ ê°ì²´ì˜ í˜¸ì¶œì‘ì—…ì„ ê°œë°œìê°€ ê²°ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œ ê²°ì •í•œë‹¤.

## ì„¤ì¹˜ ë°©ë²• ë° ì„œë²„ ì‹¤í–‰

- `npx create-next-app@latest` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ nextJs í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì¤€ë‹¤.
  - ì˜µì…˜
    - Would you like to use TypeScript?
      - íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ì—¬ë¶€
    - Would you like to use ESLint?
      - EsLint ì‚¬ìš© ì—¬ë¶€
    - Would you like to use Tailwind CSS?
      - Tailwind CSS ì‚¬ìš© ì—¬ë¶€
    - Would you like to use `src/` directory?
      - ì‚¬ìš© í•˜ë©´ src ë””ë ‰í† ë¦¬ ìƒì„±ëœë‹¤.
    - Would you like to use App Router? (recommended)
      - â­ ë¼ìš°íŒ… ë°©ì‹ ì„¤ì •
        - ì´ì „ì—ëŠ” `pages` ë””ë ‰í† ë¦¬ ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ ë¼ìš°íŒ…ì„ í–ˆë‹¤
        - ìµœê·¼ì—ëŠ” `App` ë¼ìš°íŒ… ë°©ì‹ì´ ìƒì„±ë˜ì—ˆë‹¤.
          - `React`ì—ì„œ ì¶”ì²œí•˜ëŠ” ë°©ë²•ì´ë‹¤. [13ë²„ì „ë¶€í„° ì¶”ê°€ ë˜ì—ˆìŒ]
    - Would you like to customize the default import alias (@/\*)?
      - Import ì‹œ ë³„ì¹­ì„ ë§Œë“¤ì–´ì„œ ë¶ˆëŸ¬ì˜¬ì§€ ì—¬ë¶€
  - ì„œë²„ ì‹¤í–‰
    - `npm run dev`

<br/>
<hr/>

## Routing - Pages ì‚¬ìš© ë°©ë²• [Next13 ì´ì „]

- Next.jsì—ì„œëŠ” ë”°ë¡œ `react-router-dom`ë¥¼ ì„¤ì¹˜í•´ ì¤„ í•„ìš”ê°€ ì—†ë‹¤.
  - ì´ë¯¸ ì„¤ì¹˜ ë° ì„¤ì •ì´ ì „ë¶€ ë˜ì–´ìˆìŒ.
- `pages`í´ë” ë‚´ë¶€ì˜ jsíŒŒì¼ëª… ê¸°ì¤€ìœ¼ë¡œ `/path`ê°€ ê²°ì •ëœë‹¤.
  - â­ï¸ `index.js`ì˜ ê²½ìš° íŠ¹ë³„í•œ ì¼€ì´ìŠ¤ë¡œ ë¬´ì¡°ê±´ root Pathë¡œ ì¸ì‹í•œë‹¤.
- `.js`íŒŒì¼ì˜ íŒŒì¼ëª…ì´ ì¤‘ìš”í•˜ì§€ ë‚´ë¶€ì˜ í•¨ìˆ˜ëª…ì€ ììœ ì´ë‹¤. Urlì˜ Pathì— ì˜í–¥ì´ ì—†ë‹¤.
  ```javascript
  // about.js
  /**
   * ì¤‘ìš” í¬ì¸íŠ¸
   * - í•¨ìˆ˜ëª…ì€ ì–´ë–¤ê²ƒì´ë“  ìƒê´€ ì—†ë‹¤ routingì˜ ê¸°ì¤€ì€ í•´ë‹¹ jsíŒŒì¼ëª…ì„ ë”°ë¼ ìƒì„±ëœë‹¤.
   * - exportí•  ê²½ìš° ë¬´ì¡°ê±´ "epxort default" ì´ì–´ì•¼í•œë‹¤!
   *  - error : Error: The default export is not a React Component in page
   */
  export default function google() {
    return <div>about</div>;
  }
  ```
- `export`ëŠ” í•„ìˆ˜ì´ë©° ë¬´ì¡°ê±´ `export default`ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆí™” í•´ì¤˜ì•¼í•œë‹¤.
  - Next.js í”„ë ˆì„ì›Œí¬ ìì²´ì—ì„œ ê·¸ë ‡ê²Œ ì •ì˜í•˜ì˜€ìœ¼ë¯€ë¡œ ë”°ë¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

<br/>
<hr/>

## Routing - App Router ì‚¬ìš© ë°©ë²• [Next13 ì´í›„]

- `Next13`ì´ì „ì€ íŒŒì¼ëª…ì´ ê°ê°ì˜ ì„¸ê·¸ë¨¼íŠ¸ì˜€ë‹¤ë©´ ì´í›„ëŠ” í´ë”ëª…ì´ ì„¸ê·¸ë¨¼íŠ¸ëª…ì´ë‹¤
- í•´ë‹¹ í´ë”ëª… -> `page.js` ë¥¼ ì‚¬ìš©í•´ì¤˜ì•¼í•œë‹¤. â­ï¸ íŒŒì¼ëª…ì€ ê³ ì •ì„

  - íŒŒì¼ ê²½ë¡œ
    - `src/app/ì—¬ê¸°ê°€ ì„¸ê·¸ë¨¼íŠ¸ëª…/page.js`
  - ì˜ˆì‹œ ì½”ë“œ

    - page.js

      ```javascript
      /**
       * ğŸ‘‰ ë™ì¥ ìˆœì„œ
       * - http://localhost:3000/create í˜¸ì¶œ
       * - src ->  app -> í•´ë‹¹ ìš”ì²­ì— ë§ëŠ” í´ë”ëª…ì„ ì°¾ìŒ
       * - í•´ë‹¹ í´ë”ë¥¼ ì°¾ìœ¼ë©´ `page.js`íŒŒì¼ì´ ìˆë‹¤ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ëœë”ë§ í•´ì¤Œ
       *  -> í•´ë‹¹ jsëª…ì´ `page.js`ê°€ ì•„ë‹ˆë¼ë©´ 404 í˜ì´ì§€ë¥¼ ë°˜í™˜í•¨
       */
      export default function page() {
        return <div>src - app - pahtëª… - page.js </div>;
      }
      ```

### ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ ì™€ ì‚¬ìš©í•˜ê¸°

- App Routerì€ ê¸°ë³¸ì ìœ¼ë¡œ `Server Component`ë°©ì‹ì´ë‹¤ ë”°ë¼ì„œ ì¼ë°˜ì ì¸ React ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
- ğŸ’¬ ê°„ë‹¨í•˜ê²Œ ì´í•´
  - Client Component
    - `useState`
    - `useEffect`
    - `onClick`
    - `onChange`
    - `useRouter`
    - `useParams`
  - Server Component
    - `secire data`
    - `cookie`
    - `header`
- ğŸ‘‰ ì„œë²„ê°„ í†µì‹  ì˜ˆì œ

  - `Client Component` ë°©ì‹

    - ê¸°ë³¸ì ìœ¼ë¡œ `app router`ì˜ ê²½ìš° Server Componentë°©ì‹ ì´ê¸°ì— ìƒë‹¨ì— ë”°ë¡œ **"use client";** ì„ ì–¸ì´ í•„ìš”í•˜ë‹¤

    ```javascript
    // â­ï¸ ê¼­ ì„ ì–¸í•´ ì¤˜ì•¼í•œë‹¤
    "use client";

    import Link from "next/link";
    import "./globals.css";
    import { useEffect, useState } from "react";

    // ğŸ‘‰ í•´ë‹¹ ì½”ë“œëŠ” "use client"ë¥¼ ì‚¬ìš© í•  ê²½ìš° ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥
    // export const metadata = {
    //   title: "Create Next App222",
    //   description: "Generated by create next app",
    // };

    export default function RootLayout({ children }) {
      const [topics, setTopics] = useState([]);
      useEffect(() => {
        fetch("http://localhost:9999/topics")
          .then((res) => res.json())
          .then((result) => setTopics(result))
          .catch((e) => console.log(e));
      }, []);

      console.log(topics);

      return <></>;
    }
    ```

  - `Server Component` ë°©ì‹

        - `async` ì™€ `await`ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

        ```javascript
        import Link from "next/link";
        import "./globals.css";

        export const metadata = {
          title: "Create Next App222",
          description: "Generated by create next app",
        };

        // â­ï¸ async ì„ ì–¸ì€ í•„ìˆ˜ ì´ë‹¤. fetchì—ì„œ awaitë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨
        export default async function RootLayout({ children }) {
          // ğŸ‘‰ awaitë¥¼ ì‚¬ìš©í•´ì„œ fetch ì‚¬ìš©
          const res = await fetch("http://localhost:9999/topics");
          const topics = await res.json();

          return (
            <html>
              <body>
                <ol>
                  {topics.map((item) => (
                    <li key={item.id}>
                      <Link href={`/read/${item.id}`}>{item.title}</Link>
                    </li>
                  ))}
                </ol>
              </body>
            </html>
          );
        }
        ```

### cache ?

- ê¸°ë³¸ì ìœ¼ë¡œ Server Component ë°©ì‹ì„ ì‚¬ìš©í•  ê²½ìš° ìƒˆë¡œê³ ì¹¨ì„ í•´ë„ ê°’ì„ ìµœì‹ ê°’ì„ ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ”ë‹¤.
  - cacheë¡œ í•´ë‹¹ ê°’ì„ ê°–ê³  ìˆìœ¼ë©´ ìš”ì²­ì„ í•˜ì§€ì•Šê¸° ë–„ë¬¸ì„.
- ë‹¤ì–‘í•œ cache ì„¤ì • ë°©ë²•ì´ ìˆë‹¤ ì˜ˆì œì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ í•´ê²° ê°€ëŠ¥í•œ `no-cache`ë¥¼ ì‚¬ìš©
- ì‚¬ìš© ë°©ë²•

  - layout.js [ë©”ì¸ í™”ë©´ Component]

    ```javascript
    export default async function RootLayout({ children }) {
      const res = await fetch(
        "http://localhost:9999/topics",
        // ğŸ‘‰ cache: "no-cache"ë¥¼ ì£¼ì–´ì„œ cacheì €ì¥ ëŒ€ìƒì—ì„œ ì œì™¸ ì‹œì¼œì¤€ë‹¤.
        {
          cache: "no-cache",
        }
      );
      const topics = await res.json();

      return <html></html>;
    }
    ```

  - page.js [ê¸€ ì‘ì„± Eventê°€ ìˆëŠ” Component]

    ```javascript
    "use client";
    import { useRouter } from "next/navigation";

    export default function page() {
      const router = useRouter();

      const submit = (e) => {
        fetch("http://localhost:9999/topics", options)
          .then((res) => res.json())
          .then((result) => {
            // ğŸ‘‰ routerì„ ì‚¬ìš©í•´ì„œ í†µì‹ ì— ì„±ê³µí•  ê²½ìš° ìƒˆë¡œê³ ì¹¨ í•œë‹¤.
            router.refresh();
            router.push(`/read/${result.id}`);
          });
      };

      return <div></div>;
    }
    ```

### ë¶„ë¦¬í•˜ê¸° - [ğŸ’¬ useParams() ì‚¬ìš© ]

- ê¸°ë³¸ì ìœ¼ë¡œ `app rotuer`ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ `Server Component`ë°©ì‹ì´ë‹¤ ê·¸ëŸ´ ê²½ìš° ë§Œì•½ ì¼ì • ë¶€ë¶„ì—ì„œ PathVariableì´ í•„ìš”í•˜ë‹¤ë©´ ??
  - í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ `"use client"`ë¥¼ ì‚¬ìš©í•´ì„œ `Client Component`ë¡œ ë³€ê²½í•œë‹¤.
  - í•´ë‹¹ ë¶€ë¶„ì„ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆ ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì´ìˆë‹¤.
- í•˜ì§€ë§Œ ì˜ˆì œì˜ ê²½ìš° ë©”ì¸ `layout.js`ì—ì„œ í•˜ë‹¨ì˜ ìˆ˜ì •, ì‚­ì œ ë²„íŠ¼ì„ idê°’ì˜ ìœ ë¬´ë¡œ ë³´ì´ê³  ì•ˆë³´ì´ê³  í•˜ê³ ì‹¶ì—ˆë‹¤.
  - ì „ì²´ì ìœ¼ë¡œ `Client Component`ë¡œ ë§Œë“œëŠ”ê±´ ë¬´ë¦¬ .. ê·¸ë ‡ê¸°ì— ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ ì¤€ í›„ `useParams()`ì‚¬ìš©ìœ¼ë¡œ Idê°’ ê°€ì ¸ì˜¤ê¸°
- ì‚¬ìš© ì˜ˆì‹œ

  - layout.js [ë‚˜ëˆ„ê¸° ì´ì „ ğŸ‘]

    ```javascript
    import Link from "next/link";
    import "./globals.css";
    // âŒ í•˜ì§€ë§Œ Client Componentë¡œ ë³€ê²½í•˜ê¸°ì—” ì–´ë ¤ìš´ ìƒí™©ì„
    export const metadata = {
      title: "Create Next App222",
      description: "Generated by create next app",
    };
    export default async function RootLayout({ children }) {
      return (
        <html>
          <body>
            {children}
            /** * ğŸ‘‰ í•´ë‹¹ ë¶€ë¶„ì´ http://localhost:3000/read/14 ì™€ ê°™ì´ * idì— ë”°ë¼
            ë³´ì´ê³  ì•ˆë³´ì´ê³  í•˜ê³ ì‹¶ì€ ì‚¬ì˜¤í•­ */
            <ul>
              <li>
                <Link href="/create">Create</Link>
              </li>
              <li>
                <Link href="/update/1">Update</Link>
              </li>
              <li>
                <button>Delete</button>
              </li>
            </ul>
          </body>
        </html>
      );
    }
    ```

  - Control.js [ì»´í¬ë„ŒíŠ¸ ë‚˜ëˆ” ğŸ‘]

    ```javascript
    // â­ï¸ Client Componentë¡œ ë³€ê²½
    "use client";
    import Link from "next/link";
    import { useParams } from "next/navigation";

    export function Control() {
      // ğŸ‘‰ PathVariableê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
      const params = useParams();
      const id = params.id;
      console.log(id);
      return (
        <ul>
          <li>
            <Link href="/create">Create</Link>
          </li>
          // ğŸ‘‰ ì¡°ê±´ì‹ì„ ì‚¬ìš©í•´ì„œ ë³´ì´ê³  ì•ˆë³´ì´ê³  ì„¤ì •
          {id ? (
            <>
              <li>
                <Link href="/update/1">Update</Link>
              </li>
              <li>
                <button>Delete</button>
              </li>
            </>
          ) : null}
        </ul>
      );
    }
    ```

  - layout.js
    ```javascript
    import Link from "next/link";
    import "./globals.css";
    import { Control } from "./Control";
    export const metadata = {
      title: "Create Next App222",
      description: "Generated by create next app",
    };
    export default async function RootLayout({ children }) {
      return (
        <html>
          <body>
            {children}
            <Control />
          </body>
        </html>
      );
    ```

<br/>
<hr/>

### `Link Tag`

- Reactì—ì„œëŠ” `A Tag`ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì, ì•„ë‹ˆ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.
  - í™”ë©´ì´ ê¹œë¹¡ê±°ë¦¼
  - ëŠë¦¼
  - ì¥ì ì´ í•˜ë‚˜ë„ ì—†ìœ¼ë©° eslintì—ì„œë„ ì‚¬ìš©í•˜ì§€ ë§ë¼ê³  ê²½ê³ ê°€ ë‚˜ì˜´
- `Link Tag` ì¥ì 
  - í™”ë©´ì´ ê¹œë¹¡ì´ì§€ ì•Šê³  í˜ì´ì§€ê°„ ì´ë™ì´ ê°€ëŠ¥í•˜ë©° ì†ë„ ë˜í•œ í›¨ì”¬ ë¹¨ë¼ SPAëŠë‚Œì„ ì¤€ë‹¤.
  - ë”°ë¡œ í•´ë‹¹ Libraryë¥¼ ì„¤ì¹˜í•  í•„ìš” ì—†ì´ NextJsì— í¬í•¨ë˜ì–´ ìˆì–´ì„œ ê·¸ëƒ¥ ë°”ë¡œ `import` í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
  - `className`, `style`ë“±ë“± ì—¬ëŸ¬ê°€ì§€ë¥¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì˜ˆì‹œ ì½”ë“œ

  ```javascript
  // ğŸ‘‰ ê·¸ëƒ¥ import í•˜ê³  ì‚¬ìš©í•˜ë©´ ë!
  import Link from "next/link";

  export default function NavBar() {
    /**
     *  ğŸ‘‰ Reactë¥¼ ì‚¬ìš©í•˜ë©´ a Tagë¥¼ ì‚¬ìš©í•´ì„œ í˜ì´ì§€ ì´ë™ì„ ì‚¬ìš©í•˜ì§€ ë§ì!!
     *     - ë¬´ì¡°ê±´ Linkë¥¼ ì‚¬ìš©í•´ì£¼ì! ê·¸ë˜ì•¼ ì‹±ê¸€ í˜ì´ì§€ë¥¼ ê²½í—˜ í•˜ëŠ” ëŠë‚Œì„ ë‚¼ ìˆ˜ ìˆìŒ!! ê¸°ì–µí•˜ì!
     */
    return (
      <nav>
        <Link href="/" style={{ color: "red" }} className="hello">
          Home
        </Link>
        <Link href="/about">About</Link>
      </nav>
    );
  }
  ```

<br/>

### `useRouter()`

- í•´ë‹¹ Urlì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- NextJs ì„¤ì¹˜ ì‹œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆê¸°ì— ë°”ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- ì˜ˆì‹œ ì½”ë“œ

  ```javascript
  import Link from "next/link";
  import { useRouter } from "next/router";

  const activeNav = (path) => {
    // ğŸ’¬ NextJsì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ routerê°€ ì„¤ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ë§Œ í•˜ë©´ëœë‹¤.
    //    - í•´ë‹¹ í•¨ìˆ˜ ë‚´ì—ëŠ” rotuerì— ëŒ€í•œ ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•¨
    const router = useRouter;
    return {
      color: path === router().pathname ? "red" : null,
    };
  };

  export default function NavBar() {
    return (
      <nav>
        <Link href="/" style={activeNav("/")}>
          Home
        </Link>
        <Link href="/about" style={activeNav("/about")}>
          About
        </Link>
      </nav>
    );
  }
  ```

<br/>
<hr/>

## Style ì ìš© ë°©ë²•

- ë°©ë²• 1 . `Css Module`ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

  - íŒŒì¼ì˜ ëª…ëª…ê·œì¹™ì´ ì •í•´ì ¸ ìˆë‹¤.

    - `??.module.css` í˜•íƒœì´ë‹¤ ì•ì—ëŠ” ììœ ì§€ë§Œ ë’¤ì—ëŠ” ê¼­ ëª…ëª…ê·œì¹™ì— ë§ì¶°ì£¼ì
    - ì‚¬ìš© ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤ `className`ì„ ì§ì ‘ ì§€ì •í•´ì£¼ëŠ”ê²ƒì´ ì•„ë‹Œ `clasName={import ëª¨ë“ˆëª….í´ë˜ìŠ¤ëª…}`ë¡œ ì ìš©í•˜ë©´ ëœë‹¤.
      - ì—¬ê¸°ì„œ ì¥ì ì€ í•´ë‹¹ classëª…ì´ ì•Œì•„ì„œ ë¶€ì—¬ë˜ì–´ ì¤‘ë³µì˜ ê±±ì •í•  í•„ìš”ê°€ ì—†ë‹¤.

  - ì‚¬ìš© ì˜ˆì‹œ

    - NavBar.module.css

      ```css
      /*
      
      ğŸ’¬ í•´ë‹¹ MoudleCssì˜ ìµœê³ ì˜ ì¥ì ì€ ì‚¬ìš©í•˜ëŠ” classNameì˜ ì¤‘ë³µì„ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.
          - ëœë”ë§í•˜ì—¬ í™”ë©´ì— ì‚¬ìš©ë  ê²½ìš° ì•Œì•„ì„œ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ìë™ìœ¼ë¡œ í´ë˜ìŠ¤ëª…ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©ë¨!
          - ë‹¨ ì‚¬ìš© ë°©ë²•ì€ "clasName={ëª¨ë“ˆëª….í´ë˜ìŠ¤ëª…}"ìœ¼ë¡œ ì‚¬ìš©í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.
      */
      .nav {
        background-color: green;
        display: flex;
        justify-items: center;
      }

      .active {
        color: red;
      }

      .link {
        text-decoration: none;
      }
      ```

    - NavBar.js

      ```javascript
      import Link from "next/link";
      // ğŸ‘‰ ì‚¬ìš© í•˜ë ¤ëŠ” css modul import
      import styles from "./NavBar.module.css";

      export default function NavBar() {
        return (
          <nav>
            {/** ğŸ‘‰ ë‹¤ìˆ˜ì˜ classNameì„ ì‚¬ìš©í•´ì£¼ê¸° ìœ„í•´ì„œëŠ” ë°°ì—´ í˜•íƒœë¡œ ë§Œë“¤ì–´ ì¤€ í›„ join(" ")ì„ ì‚¬ìš©í•´ ì£¼ì */}
            <Link href="??" className={[styles.active, styles.link].join(" ")}>
              cssMoulde í…ŒìŠ¤íŠ¸
            </Link>
          </nav>
        );
      }
      ```

- ë°©ë²• 2 . `style jsx` ì ìš© ë°©ë²•

  - ë”°ë¡œ CssíŒŒì¼ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤
  - í´ë˜ìŠ¤ëª…ì„ ë”°ë¡œ ì§€ì–´ì¤„ í•„ìš”ì—†ì´ íƒœê·¸ëª…ìœ¼ë¡œ ë°”ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
  - í•˜ì§€ë§Œ ë­”ê°€ ë¶ˆí¸í•˜ë‹¤ ì½”ë“œê°€ ê¸¸ì–´ì§€ê³  ì§ê´€ì ì¸ ëŠë‚Œì´ ì—†ìŒ
  - ë°±í‹± ``ì„ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•´ì¤˜ì•¼í•œë‹¤.
  - ì‘ì„±ëœ ìŠ¤íƒ€ì¼ì€ ëª¨ë‘ ë…ë¦½ì ìœ¼ë¡œ ì ìš©ëœë‹¤! ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì´ ì—†ìŒ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ íƒœê·¸ë§Œ ì˜í–¥ì´ ìˆë‹¤
  - ì‚¬ìš© ë°©ë²•

    - NavBar.js

      ```javascript
      import Link from "next/link";
      import { useRouter } from "next/router";

      const activeNav = (path) => {
        return useRouter().pathname === path ? "active" : null;
      };

      export default function NavBar() {
        return (
          <nav>
            {/** 
               â­ï¸ nexjsë²„ì „ì´ ì˜¤ë¥´ë©´ì„œ Link íƒœê·¸ ë‚´ë¶€ aíƒœê·¸ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•œë° legacyBehaviorë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 
                 - "style jsx"ì—ì„œëŠ” Linkíƒœê·¸ì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ cssì ìš©ì´ ì–´ë ¤ì›€ ... ë¶ˆí¸í•˜ë‹¤..
            */}
            <Link href="/" legacyBehavior>
              <a className={activeNav("/")}>Home</a>
            </Link>
            <Link href="/about" legacyBehavior>
              <a className={activeNav("/about")}>About</a>
            </Link>

            {/** ğŸ‘‰ ì•„ë˜ì™€ ê°™ì´ return êµ¬ë¬¸ì•ˆì— ì‘ì„± ì¤‘ìš” í¬ì¸íŠ¸ëŠ” "jsx"ë¥¼ ì‚¬ìš©í•´ì£¼ê³  ``ì„ ì‚¬ìš©í•´ì¤˜ì•¼í•œë‹¤ëŠ” ê²ƒ */}
            <style jsx>{`
              nav {
                background-color: tomato;
              }
              a {
                text-decoration: none;
              }
              .active {
                color: yellow;
              }
            `}</style>
          </nav>
        );
      }
      ```

<br/>
<hr/>

## ê³µí†µì˜ì—­ ì²˜ë¦¬ ë°©ë²• - ì „ì—­ ì²˜ë¦¬

- springì˜ jsp ë”°ì§€ë©´ `include` Tymeleafë¡œ ë”°ì§€ë©´ `fagment`ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤.
- ê³µí†µì ì¸ í‹€ì„ ë§Œë“œëŠ” ê²ƒì€ ë¬¼ë¡ ì´ê³  Global css ë˜í•œ í•´ë‹¹ ìœ„ì¹˜ì— ì ìš©í•´ì•¼í•œë‹¤ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
  - â­ï¸ ì¼ë°˜ ì»´í¬ë„ŒíŠ¸ì— CSS ì ìš© ì‹œ ë°œìƒ í•˜ëŠ” ì—ëŸ¬
    - Message : Global CSS cannot be imported from files other than your Custom <App>.
- ì£¼ì˜ ì‚¬í•­

  - 1 . â­ï¸ íŒŒì¼ëª…ì€ **ë¬´ì¡°ê±´** `_app.js`ì´ì–´ì•¼í•œë‹¤ . í”„ë ˆì„ì›Œí¬ì—ì„œ ì»´í¬ë„ŒíŠ¸ì¤‘ì—ì„œ ê°€ì¥ ë¨¼ì € ì½ëŠ” ë„¤ì´ë°ì´ê¸° ë•Œë¬¸ì´ë‹¤!
  - 2 . í•´ë‹¹ ì»´í¬ëŠ”íŠ¸ì˜ ê¸°ë³¸í‹€ì„ ê¼­ ì§€ì¼œì£¼ì

    - `{ Component, pagePrpos }` íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ê²ƒ
    - `<Component {...pagePrpos}></Component>`í˜•íƒœë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ

    ```javascript
    /***
     * ğŸ‘‰ { Component, pagePrpos } í•´ë‹¹ íŒŒë¼ë¯¸í„° 2ê°œëŠ” í•„ìˆ˜ì´ë‹¤.
     * - ê¸°ë³¸ì ì¸ í‹€ì´ë©° ë”°ë¥´ë©´ ëœë‹¤,.
     *  - Component ê²½ìš° ìš°ë¦¬ê°€ ìƒì„±í•˜ëŠ” ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ë¼ ìƒê°í•˜ê³ 
     *  - pagePrpos ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” pagePropsì´ë‹¤
     */
    export default function App({ Component, pagePrpos }) {
      return (
        <>
          {/* âœ… ì•„ë˜ì˜ í˜•ì‹ì„ ê¼­ ì‚¬ìš©í•´ì•¼í•œë‹¤ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ pagePropsë¥¼ ë„˜ê²¨ì£¼ì */}
          <Component {...pagePrpos}></Component>
        </>
      );
    }
    ```

- í™œìš© ( ì „ì—­ Cssì™€ Nav Component ì‚¬ìš© )

  - \_app.js

    ```javascript
    // ğŸ‘‰ NavBar Import
    import NavBar from "@/component/NavBar";
    // ğŸ‘‰ ì „ì—­ cssë¥¼ ë¶ˆëŸ¬ì™€ë„ ì—ëŸ¬ê°€ ì—†ë‹¤ ğŸ‘
    import "../styles/globals.css";

    export default function App({ Component, pagePrpos }) {
      return (
        <>
          {/** ğŸ‘‰ Nav ì»´í¬ë„ŒíŠ¸ Call */}
          <NavBar></NavBar>

          <Component {...pagePrpos}></Component>

          <span>ì´ëŸ°ì‹ìœ¼ë¡œ ì—¬ëŸ¬ê°€ì§€ë¥¼ ì¶”ê°€ ê°€ëŠ¥í•¨ ! Footerë„£ì!</span>
        </>
      );
    }
    ```

- `_app.js`ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì‚¬ìš©í•˜ëŠ” íŒ¨í„´

  - íŒ¨í„´ ì‚¬ìš© ì´ìœ 
    - `_app.js`ì—ëŠ” ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê²ƒë“¤ì´ ë§ì´ Import ëœë‹¤.
    - ê·¸ë ‡ë‹¤ë©´ ì—„ì²­ë‚˜ê²Œ ê¸¸ì–´ì§ˆ ê²ƒì´ë©° ì´ëŸ¬í•œ ì½”ë“œëŠ” ë³´ê¸°ë„ ê´€ë¦¬í•˜ê¸°ë„ í˜ë“¤ì–´ì§„ë‹¤.
  - ì˜ˆì‹œ ì½”ë“œ

    - components -> Layout.js

      ```javascript
      import NavBar from "./NavBar";

      // ğŸ‘‰ í•˜ìœ„ë¡œ ë“¤ì–´ì˜¨ ëª¨ë“  ìš”ì†Œë“¤ì€ childrenìœ¼ë¡œ ë°›ìŒ
      export default function Layout({ children }) {
        return (
          <>
            <NavBar></NavBar>
            // ğŸ‘‰ ì‚¬ìš©
            <div>{children}</div>
          </>
        );
      }
      ```

    - \_app.js

      ```javascript
      import Layout from "@/component/Layout";
      import "../styles/globals.css";

      export default function App({ Component, pagePrpos }) {
        return (
          <>
            {/* âœ… Layout í•˜ìœ„ì— ë“¤ì–´ì˜¨ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ê°€ ì¤‘ìš”í•¨ */}
            <Layout>
              <Component {...pagePrpos}></Component>
            </Layout>
          </>
        );
      }
      ```

<br/>
<hr/>

## Header ì •ë³´ ë³€ê²½

- NextJsì—ì„œëŠ” Header ì •ë³´ë¥¼ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ” Libraryê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆì–´ í¸í•˜ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- í•´ë‹¹ `Head` ë˜í•œ ëœë”ë§ ë  ë•Œ ì ìš©ë˜ë¯€ë¡œ ê³µí†µì ìœ¼ë¡œ ëœë”ë§ ë˜ëŠ” ìœ„ì¹˜ì— ì ìš©í•˜ëŠ”ê²ƒì´ ì˜³ë‹¤.
  - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë§Œì•½ about ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì‘ì—…í–ˆë‹¤ë©´ aboutì—ì„œë§Œ ì ìš©ë¨.
- ì˜ˆì‹œ ì½”ë“œ

  - HeadTitle.js

    ```javascript
    // ğŸ‘‰ NextJs ì„¤ì¹˜ ì‹œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ Import!
    import Head from "next/head";

    // ğŸ‘‰ Objectí˜•íƒœë¡œ íŒŒë¼ë¯¸í„°ê°€ ë„˜ì–´ì˜¤ê¸° ë–„ë¬¸ì— {}ì‚¬ìš© í•„ìˆ˜!
    export default function HeadTitle({ titleName }) {
      return (
        // ğŸ‘‰ Head ì‚¬ìš©í•´ì„œ headerì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°’ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤!
        <Head>
          <title>{titleName} | Moive!</title>
        </Head>
      );
    }
    ```

  - Layout.js

        ```javascript
        import HeadTitle from "./HeadTitle";
        import NavBar from "./NavBar";

        export default function Layout({ children }) {
          return (
            <>
              {/* ğŸ‘‰ titleNameíŒŒë¼ë¯¸í„°ëª…ì„ ë§ì¶°ì„œ ë„˜ê²¨ì£¼ì */}
              <HeadTitle titleName={"Movie!"}></HeadTitle>
              <NavBar></NavBar>
              <div>{children}</div>
            </>
          );
        }
        ```

<br/>
<hr/>

## ì •ì  íŒŒì¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•

- NextJsì—ì„œ ì •ì  íŒŒì¼ì€ publicí´ë” ì•ˆì— ì¡´ì¬í•œë‹¤.
- ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ê²Œ "/íŒŒì¼"ë¡œ ë‹¤ë¥¸ ê²½ë¡œì‘ì—… í•„ìš”ì—†ì´ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤. - í‹€ì´ ê·¸ë ‡ê²Œ ì¡í˜€ìˆê¸° ë•Œë¬¸
- ì˜ˆì‹œ ì½”ë“œ

  - index.js

  ```javascript
  export default function NavBar() {
    return (
      <nav>
        {/** ë°”ë¡œ public ë‚´ë¶€ì˜ vercel.svgë¥¼ ë¶ˆëŸ¬ì˜´ */}
        <img src="/vercel.svg"></img>
      </nav>
    );
  }
  ```

<br/>
<hr/>

## Image íƒœê·¸ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

- NextJsì—ì„œëŠ” Image íƒœê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- ì‚¬ìš© ì‹œ ì¥ì 

  - Lazy loading ê°€ëŠ¥
  - ì‚¬ì´ì¦ˆ ìµœì í™”
  - Layout shift ë°©ì§€
    - ì´ë¯¸ì§€ê°€ ë¡œë”©ì „ì— ë„ˆë¹„, ë†’ì´ê°€ ì—†ì–´ ë ˆì´ì•„ì›ƒì´ ê¹¨ì§€ëŠ” ê²ƒ

- ì‚¬ìš© ë°©ë²•

  - `img/index.js` - ì¼ë°˜ `<img>, <Image>` ì‚¬ìš©

    ```javascript
    import Image from "next/image";
    import React, { useEffect, useState } from "react";
    // â­ï¸ Image íƒœê·¸ì— ë„£ì„ ì´ë¯¸ì§€ Import
    import picka from "/public/picka.png";

    export default function page() {
      return (
        <div>
          {/* ğŸ‘‰ ì¼ë°˜ img íƒœê·¸ */}
          <img src="/picka.png" width={"50%"} alt="ì´ê±´ ê·¸ëƒ¥ img" />

          <hr />

          {/* ğŸ‘‰ Image íƒœê·¸ */}
          <Image
            // âœ… src ê²½ë¡œëŠ” import ëœ ê²½ë¡œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•¨!!!
            src={picka}
            alt="ì´ê±´ ìµœì í™” ì ìš©"
            className="ë‹¤ ê°€ëŠ¥í•´"
            style={{ width: "50%", height: "100%" }}
          />
        </div>
      );
    }
    ```

  - `img/index.js` - ë¹„ë™ê¸° ` <Image>` ì‚¬ìš©

    - â­ï¸ ì¤‘ìš” í¬ì¸íŠ¸ëŠ” ì„œë²„ë¡œ ìš”ì²­í•˜ëŠ” ë„ë©”ì¸ì„ `next.config.js`ì— ê¼­ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

    ```javascript
    import Image from "next/image";
    import React, { useEffect, useState } from "react";
    import picka from "/public/picka.png";

    export default function page() {
      const [imageData, setImageData] = useState(null);

      useEffect(() => {
        (async () => {
          try {
            const response = await fetch("/api/movies");
            const data = await response.json();
            setImageData(data.results[0].poster_path); // ë°ì´í„° ì„¤ì •
          } catch (error) {
            console.error("Error fetching image data:", error);
          }
        })();
      }, []);

      return (
        <div>
          {/* ğŸ‘‰ ë¹„ë™ê¸° í†µì‹  */}
          <Image
            src={`https://image.tmdb.org/t/p/w500/${imageData}`}
            alt="ë¹„ë™ê¸° í†µì‹ ìœ¼ë¡œ ë°›ìŒ next.config.js ì„¤ì • í•„ìš”"
            width={400} // â­ï¸ í•„ìˆ˜ ê°’
            height={300} // â­ï¸ í•„ìˆ˜ ê°’
          />
        </div>
      );
    }
    ```

  - `next.config.js`

    ```javascript
    // âœ… .evníŒŒì¼ì— ì‘ì„±í•œ API Keyë¥¼ ë¶ˆëŸ¬ì˜´
    const API_KEY = process.env.API_KEY;

    /** @type {import('next').NextConfig} */
    const nextConfig = {
      reactStrictMode: true,
      /**
       * ğŸ‘‰ í•´ë‹¹ "source"ì— ì¡íŒ ê²½ë¡œë¥¼ "destination"ë¡œ ì´ë™ ì‹œì¼œì¤Œ
       * - :path* ë¥¼ ì‚¬ìš©í•˜ë©´ ë’¤ì— ë¶™ì€ ëª¨ë“  path ì •ë³´ë¥¼ ê·¸ëŒ€ë¡œ ë„˜ê²¨ì¤Œ
       * */
      async redirects() {
        return [
          {
            source: "/old-blog/:path*",
            destination: "/new-sexy-blog/:path*",
            // ğŸ’¬ ì¼ë°˜ì ìœ¼ë¡œ í˜ì´ì§€ ì´ë™ì´ ì˜êµ¬ì ìœ¼ë¡œ ë³€ê²½ëœ ê²½ìš° permanent: trueë¥¼ ì‚¬ìš©í•˜ê³ , ì¼ì‹œì ì¸ ë³€ê²½ì˜ ê²½ìš° permanent: falseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            permanent: false,
          },
        ];
      },
      /**
       * ğŸ‘‰ redirects()ì™€ëŠ” ë‹¤ë¥´ê²Œ "source"ë¡œ ì ‘ê·¼í•œ ê°’ì„ "destination"ë¡œ ë³€ê²½í•´ì„œ ìš”ì²­ í•¨
       */
      async rewrites() {
        return [
          {
            source: "/api/movies",
            destination: `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}`,
          },
          {
            // ğŸ‘‰ ì¤‘ìš” í¬ì¸íŠ¸ëŠ” ":id"ë¡œ ê°’ì„ ë„˜ê¸´ë‹¤ëŠ” ê²ƒì´ë‹¤!! ë³€í™˜í•´ì£¼ëŠ” destinationë„ ë˜‘ê°™ì´!
            source: "/api/movies/:id",
            destination: `https://api.themoviedb.org/3/movie/:id?api_key=${API_KEY}`,
          },
        ];
      },
      images: {
        domains: ["image.tmdb.org", "*"], // ì‚¬ìš©í•˜ë ¤ëŠ” ì´ë¯¸ì§€ í˜¸ìŠ¤íŠ¸ ì´ë¦„ ì¶”ê°€
      },
    };

    module.exports = nextConfig;
    ```

<br/>
<hr/>

## `next.config.js`

- nextJs ì„œë²„ì˜ ì„¤ì •ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

### Redirects ì‚¬ìš© ë°©ë²•

- ì§€ì •í•œ pathë¡œ ë“¤ì–´ì˜¨ ì ‘ê·¼ì„ ë³€ê²½ëœ ì£¼ì†Œë¡œ ì´ë™ì‹œì¼œ ì¤€ë‹¤.
- ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” urlë¡œ ë“¤ì–´ì˜¬ ê²½ìš° ë³€ê²½ëœ urlë¡œ ë³´ë‚´ì¤„ ë•Œ ì‚¬ìš©ëœë‹¤.
- ë°°ì—´ í˜•íƒœë¡œ ë˜ì–´ìˆê¸°ì— ì›í•˜ë©´ ê³„ì† í•´ì„œ Objectë¥¼ ëŠ˜ë ¤ì„œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤
- ì‚¬ìš© ì˜ˆì‹œ

  - next.config.js

    ```javascript
    // âœ… .evníŒŒì¼ì— ì‘ì„±í•œ API Keyë¥¼ ë¶ˆëŸ¬ì˜´
    const API_KEY = process.env.API_KEY;

    /** @type {import('next').NextConfig} */
    const nextConfig = {
      reactStrictMode: true,
      //â­ï¸ ì‚¬ìš©í•˜ë ¤ëŠ” ì´ë¯¸ì§€ì˜ ë„ë©”ì¸ ì£¼ì†Œë¥¼ ì¶”ê°€í•´ì¤˜ì•¼í•œë‹¤.
      images: {
        domains: ["image.tmdb.org", "*"],
      },
    };

    module.exports = nextConfig;
    ```

### Rewrites ì‚¬ìš© ë°©ë²•

- ë°›ì•„ì˜¨ ìš”ì²­ì„ ë‚´ê°€ ì§€ì •í•œ ìš”ì²­ìœ¼ë¡œ ë³€ê²½í•´ì„œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
- NexJsìì²´ê°€ ì„œë²„ ì—­í• ì„ í•˜ê¸° ë–„ë¬¸ì— ê°€ëŠ¥í•œ ê¸°ëŠ¥ì´ë‹¤.
- ê°œë°œì ë„êµ¬ì˜ Requestë¶€ë¶„ì—ì„œë„ ì´ì œ ìš”ì²­ ì‹œ ë“¤ì–´ìˆë˜ ë¹„ë°€í‚¤ì™€ ê°™ì€ ì •ë³´ë„ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤.
- SpringBootì˜ `application.protperties`ì™€ ë¹„ìŠ·í•œ ê°œë…ì´ë¼ ìƒê°í•˜ì
- ì˜ˆì‹œ ì½”ë“œ

  - .env

    ```properties
        # API KEY
        API_KEY=ì‹œí¬ë¦¿í‚¤~
    ```

  - next.config.js

    ```javascript
    // âœ… .evníŒŒì¼ì— ì‘ì„±í•œ API Keyë¥¼ ë¶ˆëŸ¬ì˜´
    const API_KEY = process.env.API_KEY;

    /** @type {import('next').NextConfig} */
    const nextConfig = {
      reactStrictMode: true,
      /**
       * ğŸ‘‰ redirects()ì™€ëŠ” ë‹¤ë¥´ê²Œ "source"ë¡œ ì ‘ê·¼í•œ ê°’ì„ "destination"ë¡œ ë³€ê²½í•´ì„œ ìš”ì²­ í•¨
       */
      async rewrites() {
        return [
          {
            source: "/api/movies",
            destination: `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}`,
          },
        ];
      },
    };

    module.exports = nextConfig;
    ```

### Rewrites - pathVariable ì „ë‹¬ ë°©ë²•

- ì˜ˆì‹œ ì½”ë“œ

  - next.config.js

        ```javascript
        const API_KEY = process.env.API_KEY;

        /** @type {import('next').NextConfig} */
        const nextConfig = {
          reactStrictMode: true,
          async rewrites() {
            return [
             {
                // ğŸ‘‰ ì¤‘ìš” í¬ì¸íŠ¸ëŠ” ":id"ë¡œ ê°’ì„ ë„˜ê¸´ë‹¤ëŠ” ê²ƒì´ë‹¤!! ë³€í™˜í•´ì£¼ëŠ” destinationë„ ë˜‘ê°™ì´!
                source: "/api/movies/:id",
                destination: `https://api.themoviedb.org/3/movie/:id?api_key=${API_KEY}`,
            },
            ];
          },
        };

        module.exports = nextConfig;
        ```

<br/>
<hr/>

## pre rendering - êµ¬ë²„ì „ìš© .. ì´ì œ ì“¸ìˆ˜ ì—†ìŒ ë ˆê±°ì‹œ ì½”ë“œì—ëŠ” ë‚¨ì•„ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ .. ì°¸ê³ í•˜ì

- íŠ¹ì • í˜ì´ì§€ í˜¹ì€ ìƒí™©ì— ë”°ë¼ ë°ì´í„° ëª©ë¡ì„ ë¡œë”© í›„ ë³´ì—¬ì§€ëŠ” ê²ƒì´ ì•„ë‹Œ ì„œë²„ì—ì„œ ëª©ë¡ì„ ë°›ì•„ì˜¨ í›„ ì ìš©í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
  - ìƒí™©ì— ë”°ë¼ `SEO`ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ í™ˆ í™”ë©´ì— ë§Œë“¤ ê²½ìš° ìœ ìš©í•  ê²ƒìœ¼ë¡œ ì¶”ì¸¡í•¨
  - ë¡œë”© í™”ë©´ì´ ì—†ì´ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ê³  ê·¸ í›„ ë‹¤ ë°›ì•„ì§„ ì´í›„ í™”ë©´ì„ ëœë”ë§í•¨.
- â­ï¸ ì‚¬ìš© ì‹œ ì¤‘ìš”
  - `export`ë¥¼ ê¼­ í•´ì¤˜ì•¼í•œë‹¤. --> `export async function `
  - í•¨ìˆ˜ëª…ì´ í‹€ë¦¬ë©´ ì•ˆëœë‹¤. --> `getServerSideProps`
- ì‚¬ìš© ì˜ˆì‹œ

  - index.js

    ```javascript
    // ğŸ‘‰ { results } ë£° ì‚¬ìš©í•´ì„œ ServerSideDataë¥¼ ë°›ì•„ì˜´
    export default function Home({ results }) {
      return (
        <div className="container">
          {results.map((item) => (
            <div className="movie" key={item.id}>
              <img
                src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}
              />
              <h4>{item.original_title}</h4>
            </div>
          ))}
        </div>
      );
    }

    // ğŸ‘‰ í•¨ìˆ˜ëª…ì´ ì¤‘ìš”í•¨ NextJsì—ì„œ ì •í•´ì§„ í•¨ìˆ˜ëª…ì„
    export async function getServerSideProps() {
      const { results } =
        await // ğŸ’¬ ì„œë²„ì—ì„œ ìš”ì²­í•˜ë¯€ë¡œ rewirteë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ì— ë„ë©”ì¸ ì •ë³´ê°€ í•„ìˆ˜ì„
        (await fetch(`http://localhost:3000/api/movies`)).json();
      return {
        props: {
          results,
        },
      };
    }
    ```

<br/>
<hr/>

## pre rendering - NextJs13 ë²„ì „ ì´ìƒìš©

- fetch ì˜µì…˜ ì¤‘ `{ cache: 'no-store' }`ë¥¼ ì‚¬ìš©í•´ì£¼ì

  - ì˜ˆì‹œ ì½”ë“œ

    ```javascript
    import { useEffect, useState } from "react";

    async function fetchData() {
      const res = await fetch("http://localhost:3000/api/movies", {
        // ğŸ‘‰ í•´ë‹¹ ì˜µì…˜ì„ ì‚¬ìš©í•´ì£¼ì
        cache: "no-store",
      });
      const data = await res.json();
      return data.results;
    }

    export default function Home() {
      const [results, setResults] = useState([]);

      useEffect(() => {
        fetchData().then((data) => {
          setResults(data);
        });
      }, []);

      return (
        <div className="container">
          {results.map((item) => (
            <div className="movie" key={item.id}>
              <img
                src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}
              />
              <h4>{item.original_title}</h4>
            </div>
          ))}
        </div>
      );
    }
    ```

<br/>
<hr/>

## Dynamic Routes

- ì´ì „ê¹Œì§€ëŠ” Path ì •ë³´ê°€ í•˜ë‚˜ ë¿ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê°œë…ì´ì—ˆë‹¤ë©´ ì´ì œëŠ” ë³€ìˆ˜ê°’ í˜¹ì€ ì¢€ ë” ì„¸ë¶„í™”ëœ urlë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ ì„œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

### pathë¥¼ ì¢€ ë” ì„¸ë¶„í™”

- ê°„ë‹¨í•˜ê²Œ ê·¸ëƒ¥ í´ë”ë¥¼ ë‘ë©´ ê·¸ê²Œ í•˜ë‚˜ì˜ pathê°€ ëœë‹¤.
- ì¤‘ìš”í•œê±´ í•´ë‹¹ í´ë” ë˜í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°–ê²Œ í•˜ê³ ì‹¶ë‹¤ë©´ `index.js`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤.
- êµ¬ì¡°
  - page
    - blackGom
      - index.js : `localhost:3000/blackGome` ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë„ì¶œ
      - all.js : `localhost:3000/blackGome/all`

### pathë¥¼ ë³€ìˆ˜ë¡œ ë°›ëŠ” ë°©ë²• - [Next13 ì´ì „]

- ê°„ë‹¨í•˜ë‹¤ í•´ë‹¹ í´ë”ë¥¼ ìƒì„± í•œ í›„ `[ë³€ìˆ˜ëª…].js`ë¡œ ë§Œë“¤ë©´ í•´ë‹¹ ë³€ìˆ˜ë¥¼ `useRouter` Hookì„ ì´ìš©í•´ ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
- í´ë” êµ¬ì¡°

  - pages
    - movive
      - [id].js
  - ì‚¬ìš© ì˜ˆì‹œ

    - [id].js

      ```javascript
      import { useRouter } from "next/router";

      export default function Detail() {
        // â­ï¸ Hookeì„ ì´ìš©í•´ì„œ ë‚´ê°€ ì§€ì •í•œ idê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŒ
        const router = useRouter;
        console.log(router().query.id);
        return <div>ì´ë ‡ê²Œ ë°›ì„ìˆ˜ ìˆì§€ìš”~</div>;
      }
      ```

### pathë¥¼ ë³€ìˆ˜ë¡œ ë°›ëŠ” ë°©ë²• - [Next13 ì´í›„]

- ì‚¬ìš©í•  ìƒˆê·¸ë¨¼íŠ¸ëª… í´ë”ë¥¼ ìƒì„± í›„ `[ë³€ìˆ˜ëª…]`í´ë” ìƒì„±
- í•´ë‹¹ í´ë” ë‚´ë¶€ì— `page.js` ìƒì„±
- ë§¤ê°œë³€ìˆ˜ë¡œ `{ params }`ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©

  - í´ë” êµ¬ì¡°
  - src
    - app
      - read
        - [...id] or [id]
          - page.js
  - ì‚¬ìš© ì˜ˆì‹œ

    - page.js

      ```javascript
      export default function page({ params }) {
        // ğŸ‘‰ ì ‘ê·¼ ì‹œ :  http://localhost:3000/read/1/23/4
        console.log(params); // { id: [ '1', '23', '4' ] }
        return <div>{params.id}</div>;
      }
      ```

<br/>
<hr/>

## `Link Tag`í™œìš© ë° `useRouter()`ë¥¼ ì‚¬ìš©í•´ì„œ ê°™ì€ ê¸°ëŠ¥ êµ¬í˜„

- ì´ë²¤íŠ¸ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê±°ê¸°ì— `useRouter()`ë¥¼ ì‚¬ìš©í•´ì„œ pushí•´ì£¼ë©´ ëœë‹¤.
  - â­ï¸ ì¤‘ìš” í¬ì¸íŠ¸ëŠ” `useRouter()` ì„ ì–¸ ìœ„ì¹˜ê°€ `useEffect()` ë°‘ì— ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ëœ¬ë‹¤ .
    - ì‚¬ìš©ì—ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ ì½˜ì†”ì— ì—ëŸ¬ê°€ ëœ¸
- `router.push()` í˜•íƒœë¡œ ê°’ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤.
- `{}` Object êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
  - ê·¸ëƒ¥ `router.push(url)` ì‚¬ìš© ì‹œ ì¼ë°˜ ì´ë™
  - Object êµ¬ì¡°ì¼ ê²½ìš° `quertParameter` ì‚¬ìš© ê°€ëŠ¥
  - `router.push({}, "~~~" )`ì²˜ëŸ¼ ì‚¬ìš© ì‹œ Url ë§ˆìŠ¤í‚¹ ê°€ëŠ¥
- ì‚¬ìš© ì˜ˆì‹œ

  - index.js

    ```javascript
    import { useRouter } from "next/router";

    export default function Home() {
      const [movies, setMovies] = useState([]);
      // â­ï¸ ìˆœì„œê°€ ì¤‘ìš”í•¨ useEffectë³´ë‹¤ ì•„ë˜ìˆìœ¼ë©´ ì—ëŸ¬ ë°œìƒí•¨
      const router = useRouter();
      // ğŸ‘‰ Link Tagë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•´ë‹¹ ë°©ë²•ìœ¼ë¡œë„ ê°™ì€ ê¸°ëŠ¥ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
      const onClick = (id) => {
        /**
         * âœ… JSON êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´  url ë§ê³ ë„ queryParameterë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤
         * - pathname : ì´ë™í•˜ë ¤ëŠ” path ì •ë³´
         * - query {}  : queryParameter
         * - push({}, "ì´ë™ ì‹œ ì‹œ ì‚¬ìš©ë  pathì •ë³´")  >>> â­ï¸ ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ queryParameterë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤!!
         *     - ì´ëŸ° ë°©ì‹ì˜ í™œìš©ì€ ë‚´ë¶€ ë¡œì§ì„ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ë³¼ë•ŒëŠ” ì¿¼ë¦¬íŒŒëŒì—†ì´ í•´í‚¹ ê°€ëŠ¥ ì´ë„¤ í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ì¿¼ë¦¬íŒŒë¼ë¯¸í„°ê°€ ì—†ì–´ì„œ íŠ•ê²¨ë‚¼ ìˆ˜ ë„ ìˆë‹¤.
         * - ğŸ’¬ Link íƒœê·¸ì—ì„œë„ ë˜‘ê°™ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ ê·¸ëƒ¥ ë˜‘ê°™ì´ ë„£ìœ¼ë©´ ëœë‹¤!!
         */
        router.push(
          { pathname: `/movies/${id}`, query: { title: "yooo" } },
          `/movies/${id}`
        );
      };

      return (
        <div className="container">
          {movies.map((item) => (
            <div className="movie" key={item.id}>
              <img
                // ğŸ‘‰ í•¨ìˆ˜ í˜¸ì¶œ
                onClick={() => onClick(item.id)}
                src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}
              />
            </div>
          ))}
        </div>
      );
    }
    ```

<br/>
<hr/>

## All-Catch

- ì´ì „ ì˜ˆì œì—ì„œëŠ” `loclahost:3000/movies/:id` ì™€ ê°™ì€ ì‹ìœ¼ë¡œ í•œê°œì˜ ê°’ ë§Œ ë°›ì•„ ì™”ì—ˆì§€ë§Œ ì—¬ëŸ¬ê°œë¥¼ ë°°ì—´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.
- ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ ì•Œì•„ë‘ë©´ í•„ìš”í•  ê²½ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ìš© ë°©ë²•

  - ê¸°ì¡´ ì˜ˆì œì—ì„œ ì‚¬ìš©í•˜ë˜ `[id].js`íŒŒì¼ -> `[...id].js`ë¡œ ë³€ê²½í•˜ë©´ ì•Œì•„ì„œ ë°°ì—´ë¡œ ë°›ì•„ì˜¨ë‹¤!
  - [...id].js

    ```javascript
    import { useRouter } from "next/router";

    export default function Detail() {
      const router = useRouter();
      console.log("------------------");
      console.log(router.query.id); // ğŸ‘‰ [] í˜•íƒœë¡œ ë“¤ì–´ì˜´

      const id = router.query.id;
      return <div>{id}</div>;
    }
    ```

<br/>
<hr/>

## 404 í˜ì´ì§€ ì„¤ì • ë°©ë²•

- ê°„ë‹¨í•˜ê²Œ `404.js`íŒŒì¼ì„ ë§Œë“¤ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ ëì´ë‹¤.

  - ì˜ˆì‹œ ì½”ë“œ

    ```javascript
    export default function Error404() {
      return <div>404Error</div>;
    }
    ```

<br/>
<hr/>

## í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ë°©ë²•

- ê°œë°œ ì‹œ `local`í™˜ê²½ê³¼ `prod`í™˜ê²½ì˜ ì‚¬ìš© URLì´ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.
- í•´ë‹¹ ê²½ìš° ì¼ì¼ì´ ë³€ê²½í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹Œ í•˜ë‚˜ì˜ íŒŒì¼ì„ ì½ê²Œë” í•˜ë©´ ëœë‹¤ `.env`íŒŒì¼
- ì‚¬ìš© ê°€ëŠ¥í•œ `.env`íŒŒì¼ ì¢…ë¥˜
  - `.env` : ì–´ë–¤ í™˜ê²½ì´ë“  ì½ìŒ ê³µí†µ ì ìœ¼ë¡œ ì‚¬ìš©
  - `.env.local` : ê°œë°œ í™˜ê²½ì—ì„œ ì½ìŒ `npm run dev`ë¡œ ì„œë²„ ì‹¤í–‰ ì‹œ ì½ìŒ
  - `.env.production` : ìš´ì˜ í™˜ê²½ì—ì„œ ì½ìŒ `npm build`ë¥¼ í†µí•´ ë¹Œë“œëœ ì„œë²„ ì‹¤í–‰ ì‹œ ì½ìŒ
- â­ï¸ ë§Œì•½ í†µì‹ ê°„ ë¹„ë°€í‚¤ ì™€ ê°™ì€ ë¯¼ê° ì •ë³´ë¥¼ ì‚¬ìš©í•  ê²½ìš°ë¼ë©´ `.env`íŒŒì¼ì— ë“±ë¡ í›„ `next.config.js`ì—ì„œ ì½ê²Œ ë” í•´ì£¼ì [ Rewrites ì‚¬ìš© ë°©ë²• í™•ì¸ ]
- ê¸°ë³¸ì ì¸ `app router` ë°©ì‹ì€ Server Component ë°©ì‹ì´ê¸° ë•Œë¬¸ì— ì‰½ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ `use-client` ë°©ì‹ì¼ ê²½ìš° ì‚¬ìš© ë°©ì‹ì´ ë‹¤ë¥´ë‹¤.
- ì‚¬ìš© ë°©ë²•

  - .env.local

    ```properties
    # ğŸ‘‰ Server Componentì—ì„œ ì‚¬ìš© ì‹œ
    #    - process.env.??
    API_URL=http://localhost:9999/topics

    # ğŸ‘‰ Client Componentì—ì„œ ì‚¬ìš© ì‹œ ê¼­  "NEXT_PUBLIC_???"í˜•ì‹ìœ¼ë¡œ ì‚¬ìš© í•´ì•¼í•¨
    #    - process.env.NEXT_PUBLIC_???
    NEXT_PUBLIC_API_URL=http://localhost:9999/topics

    ```

  - Componentë³„ ì‚¬ìš©
    - Server Component : `const res = await fetch(process.env.API_URL)`
      - ìœ„ì™€ ê°™ì´ `process.env.???`ë¥¼ ì‚¬ìš©í•´ì„œ ë¶ˆëŸ¬ì˜´
    - Client Component : `const res = await fetch(process.env.NEXT_PUBLIC_API_URL + `/${params.id}`, {cache: "no-cache",});`
      - ìœ„ì™€ ê°™ì´ `process.env.NEXT_PUBLIC_A???`ë¥¼ ì‚¬ìš©í•´ì„œ ë¶ˆëŸ¬ì˜´

<br/>
<hr/>

## ê°œë°œ ì‹œ ìœ ìš©í•œ JSON ì„œë²„ ê°œë°œ ë°©ë²•

- ì„œë²„ ì—°ë™ ì „ ì„œë²„ê°€ ê°œë°œë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ê°„ë‹¨í•˜ê²Œ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤
  - ì„¤ì¹˜ë°©ë²•
    - `npx json-server --port 9999 --watch db.json`
      - db.json íŒŒì¼ì„ ê°ì‹œì¤‘ì´ë¼ ë³€ê²½í•˜ë©´ í•´ë‹¹ ê°’ì— ë§ì— ë°˜í™˜ì´ ê°€ëŠ¥í•˜ë‹¤.

<br/>
<hr/>

## Recoil

- ì „ì—­ê´€ë¦¬ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ Library ì´ë‹¤.
- React íŠ¹ì„±ìƒ í•˜ìœ„ í•˜ìœ„.... í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” propsë¥¼ ì „ë‹¬í•´ì•¼í•˜ëŠ”ë° ê·¸ë ‡ê²Œë˜ë©´ ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì¤‘ê³„ìê°€ ë˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆë‹¤.
  - ì´ëŸ¬í•œ ë¶ˆí¸í•¨ì„ ëœì–´ì£¼ê³ ì ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬í•  ë°ì´í„°ë¥¼ ì§€ì •í•˜ëŠ” ê°œë…ì´ë‹¤.
- ì‚¬ìš©ë°©ë²•

  - 1 . `npm install recoil`
  - 2 . ë©”ì¸ js ë¶€ë¶„ì— ê°ì‹œí•  ìˆ˜ ìˆë„ë¡ `<RecoilRoot></RecoilRoot>` ì„¤ì •

    - \_app.js

      ```javascript
      import "@/styles/globals.css";
      import { RecoilRoot } from "recoil";

      export default function App({ Component, pageProps }) {
        return;
        <RecoilRoot>
          <Component {...pageProps} />
        </RecoilRoot>;
      }
      ```

  - 3 . ì‚¬ìš©í•  Recoil State ì„ ì–¸

    - ìœ„ì¹˜ëŠ” ìƒê´€ì—†ìœ¼ë‚˜ ê¸°ë³¸ì ìœ¼ë¡œ storeë¼ëŠ” í´ë”ì— ìì£¼ ì‚¬ìš©í•¨
    - countState.js

      ```javascript
      // ğŸ‘‰ Recoilì— ì‚¬ìš©í•  ë²ˆìˆ˜ì„ ì–¸ì„ ìœ„í•œ Import
      import { atom } from "recoil";

      export const countState = atom({
        // ğŸ‘‰ ê³ ìœ  ì‹ë³„ Key ì§€ì • ì¤‘ë³µë˜ë©´ ì•ˆëœë‹¤!
        key: "count",
        // ğŸ‘‰ ì‚¬ìš© ë””í´íŠ¸ ê°’ ì§€ì • ì—¬ëŸ¬ê°€ì§€ í˜•íƒœ ê°€ëŠ¥ {}, [] ë“±ë“±
        default: 10,
      });
      ```

  - 4 . ì‚¬ìš© js

    - index.js

      ```javascript
      import React, { useState } from "react";

      // ğŸ‘‰ Recouil State Import
      import { countState } from "../store/countState";
      // ğŸ‘‰ Recoil í•¨ìˆ˜ Import
      import { useRecoilValue, useRecoilState } from "recoil";

      function Counter() {
        // ğŸ‘‰ useRecoilState(ìƒíƒœë³€ìˆ˜)ë¥¼ ì‚¬ìš©í•´ì„œ ë¶ˆëŸ¬ì˜´ useState() ì™€ ì‚¬ìš©ë°©ë²•ì´ ë˜‘ê°™ìŒ
        const [count, setCount] = useRecoilState(countState);
        return (
          <div>
            <h1>Counter : {count}</h1>
            <button
              onClick={() => {
                setCount(count + 1);
              }}
            >
              +
            </button>
          </div>
        );
      }
      function DisplayCount() {
        // ê°’ë§Œ ì½ì–´ì˜¤ëŠ” Recoil í•¨ìˆ˜
        const count = useRecoilValue(countState);
        return (
          <div>
            <h1>ë°›ì•„ì˜¨ ê°’ì„ ë³´ì—¬ì£¼ê¸°ë§Œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ {count} </h1>
          </div>
        );
      }

      export default function Home() {
        return (
          <div>
            <Counter />
            <hr></hr>
            <DisplayCount></DisplayCount>
          </div>
        );
      }
      ```

- Recoil ì‚¬ìš© ê°€ëŠ¥ import ë©”ì„œë“œ
  - useRecoilState : reactì˜ useStateë‘ ë™ì¼í•œ ê¸°ëŠ¥ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.
  - useSetRecoilState : useStateì—ì„œ setterë§Œ ìˆëŠ”ê²ƒ
  - useRecolValue : useStateì—ì„œ valueë§Œ ìˆëŠ”ê²ƒ
  - useResetRecoilState : ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™” ì‹œí‚¤ëŠ” ê¸°ëŠ¥

<br/>
<hr/>

## React Cookie

- Reactì—ì„œ Cookieë¥¼ ë‹¤ë£° ìˆ˜ ìˆëŠ” Library ì´ë‹¤.
- Reactì—ì„œ ì“°ë˜ ëª…ë ¹ì–´ì™€ ë¹„ìŠ·í•˜ì—¬ ì‰½ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- ì‚¬ìš© ë°©ë²•

  - `npm install reack-cookie` ì„¤ì¹˜
  - ì˜ˆì‹œ ì½”ë“œ

    ```javascript
    import { useCookies } from "react-cookie";

    export default function cookie() {
      // ğŸ‘‰ Cookie ì‚¬ìš© State ì„ ì–¸ -- ì‚¬ìš©ë  cookieì˜ keyê°’ì„ ë°°ì—´ë¡œ ê¸°ë³¸ê°’ ì„¤ì • ê°€ëŠ¥
      const [cookies, setCookie, removeCookie] = useCookies(["rememberId"]);

      // ğŸ‘‰ cookies.?? ë¥¼ ì‚¬ìš©í•´ì„œ ê°’ì˜ ìœ ë¬´ ì²´í¬ê°€ ê°€ëŠ¥
      function checkCookie() {
        return cookies.rememberId === undefined;
      }

      // ğŸ‘‰ Cookieì˜ ì‚¬ìš©ë  ê°’ ì§€ì •
      const handleSetCookie = () => {
        // ì¿ í‚¤ ì €ì¥ ê¸°ê°„ ì„¤ì •
        const expirationDate = new Date();
        expirationDate.setDate(expirationDate.getDate() + 7);

        setCookie(
          "Keyê°’ ì§€ì •",
          "Value ê°’ ì§€ì •",
          // ì˜µì…˜ ì§€ì •
          {
            path: "/", // ì‚¬ìš© ë²”ìœ„ ì§€ì •
            expires: expirationDate, // ìœ ì§€ê¸°ê°„ ì„¤ì • - ììœ  ì—†ì–´ë„ ëœë‹¤.
          }
        );
      };

      // ğŸ‘‰ Cookie ì‚­ì œ
      removeCookie("ì‚­ì œí•˜ê³  ì‹¶ì€ Key ê°’ ì§€ì •", { path: "/" });

      return <></>;
    }
    ```

<br/>
<hr/>

## êµ¬ì¡°

my-nextjs-app/
â”œâ”€â”€ pages/
â”‚ â”œâ”€â”€ index.js
â”‚ â”œâ”€â”€ about.js
â”‚ â”œâ”€â”€ ...
â”œâ”€â”€ components/
â”‚ â”œâ”€â”€ Header.js
â”‚ â”œâ”€â”€ Footer.js
â”‚ â”œâ”€â”€ ...
â”œâ”€â”€ customHook
â”‚ â”œâ”€â”€ login
â”‚ â”‚ â”œâ”€â”€ Hook....js
â”œâ”€â”€ styles/
â”‚ â”œâ”€â”€ global.css
â”‚ â”œâ”€â”€ ...
â”œâ”€â”€ public/
â”‚ â”œâ”€â”€ images/
â”‚ â”‚ â”œâ”€â”€ ...
â”‚ â”œâ”€â”€ ...
â”œâ”€â”€ package.json
â”œâ”€â”€ ...
