# NextJs13

```properties
# â„¹ï¸ Next14ë²„ì „ê³¼ í° ì°¨ì´ëŠ” ì—†ì§€ë§Œ í˜„ì¬ ì˜ˆì œ ì½”ë“œì—ì„œëŠ”
#  ã„´> Next13(Page Route) ë°©ì‹ì„ ì‚¬ìš©í•˜ì˜€ê¸°ì— ë‚˜ëˆ ì„œ í‘œì‹œí•¨
```

## Routing - Pages ì‚¬ìš© ë°©ë²• [Next13 ì´ì „]

- `react-router-dom`ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ ë˜ì–´ìˆë‹¤.
- `pages`í´ë” ë‚´ë¶€ì˜ jsíŒŒì¼ëª… ê¸°ì¤€ìœ¼ë¡œ `/path`ê°€ ê²°ì •ëœë‹¤.

  - â­ï¸ `index.js`ì˜ ê²½ìš° íŠ¹ë³„í•œ ì¼€ì´ìŠ¤ë¡œ ë¬´ì¡°ê±´ root Pathë¡œ ì¸ì‹í•œë‹¤.

  ![Alt text](image.png)

- `.js`íŒŒì¼ì˜ íŒŒì¼ëª…ì´ ì¤‘ìš”í•˜ì§€ ë‚´ë¶€ì˜ í•¨ìˆ˜ëª…ì€ ììœ ì´ë‹¤. Urlì˜ Pathì— ì˜í–¥ì´ ì—†ë‹¤.
  ```javascript
  // about.js
  /**
   * ì¤‘ìš” í¬ì¸íŠ¸
   * - í•¨ìˆ˜ëª…ì€ ì–´ë–¤ê²ƒì´ë“  ìƒê´€ ì—†ë‹¤ routingì˜ ê¸°ì¤€ì€ í•´ë‹¹ jsíŒŒì¼ëª…ì„ ë”°ë¼ ìƒì„±ëœë‹¤.
   * - exportí•  ê²½ìš° ë¬´ì¡°ê±´ "epxort default" ì´ì–´ì•¼í•œë‹¤!
   *  - error : Error: The default export is not a React Component in page
   */
  export default function google() {
    return <div>about</div>;
  }
  ```
- `export`ëŠ” í•„ìˆ˜ì´ë©° ë¬´ì¡°ê±´ `export default`ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë“ˆí™” í•´ì¤˜ì•¼í•œë‹¤.
  - Next.js í”„ë ˆì„ì›Œí¬ ìì²´ì—ì„œ ê·¸ë ‡ê²Œ ì •ì˜í•˜ì˜€ìœ¼ë¯€ë¡œ ë”°ë¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

## Data Fetching

- ìƒë‹¨ì— **"use client";** ì„ ì–¸ì´ í•„ìš”í•˜ë‹¤

  - `SSR`í•˜ëŠ” ì„¤ì • ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤
    - Ex) `Metadata` ì„¤ì • ë¶ˆ ê°€ëŠ¥

  ```javascript
  // â­ï¸ ê¼­ ì„ ì–¸í•´ ì¤˜ì•¼í•œë‹¤
  "use client";

  import Link from "next/link";
  import "./globals.css";
  import { useEffect, useState } from "react";

  // ğŸ‘‰ í•´ë‹¹ ì½”ë“œëŠ” "use client"ë¥¼ ì‚¬ìš© í•  ê²½ìš° ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥ - SSRë¡œ ëœë”ë§ í•˜ê¸° ë–„ë¬¸
  // export const metadata = {
  //   title: "Create Next App222",
  //   description: "Generated by create next app",
  // };

  export default function RootLayout({ children }) {
    const [topics, setTopics] = useState([]);
    useEffect(() => {
      fetch("http://localhost:9999/topics")
        .then((res) => res.json())
        .then((result) => setTopics(result))
        .catch((e) => console.log(e));
    }, []);

    console.log(topics);

    return <></>;
  }
  ```

### Dynamic Routes

- ì‹œë‚˜ë¦¬ì˜¤
  - ë©”ì¸ `layout.js`ì—ì„œ í•˜ë‹¨ì˜ ìˆ˜ì •, ì‚­ì œ ë²„íŠ¼ì„ `[id]`ê°’ì˜ ìœ ë¬´ë¡œ `Show/Hide` ì²˜ë¦¬
  - ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ ì¤€ í›„ `useParams()`ì‚¬ìš©ìœ¼ë¡œ Idê°’ ê°€ì ¸ì™€ ì²˜ë¦¬
- ë¬¸ì œ ì‚¬í•­
  - MedataDataë¥¼ ì“°ê³  ì‹¶ê¸°ì— `"use client"`ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•œ ìƒí™©
- ì‚¬ìš© ì˜ˆì‹œ

  - ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ ğŸ‘

    ```javascript
    /** layout.js */
    import Link from "next/link";
    import "./globals.css";
    // âŒ í•˜ì§€ë§Œ Client Componentë¡œ ë³€ê²½í•˜ê¸°ì—” ì–´ë ¤ìš´ ìƒí™©ì„
    export const metadata = {
      title: "Create Next App222",
      description: "Generated by create next app",
    };
    export default async function RootLayout({ children }) {
      return (
        <html>
          <body>
            {children}
            /** * ğŸ‘‰ í•´ë‹¹ ë¶€ë¶„ì´ http://localhost:3000/read/14 ì™€ ê°™ì´ * idì— ë”°ë¼
            ë³´ì´ê³  ì•ˆë³´ì´ê³  í•˜ê³ ì‹¶ì€ ì‚¬ì˜¤í•­ */
            <ul>
              <li>
                <Link href="/create">Create</Link>
              </li>
              <li>
                <Link href="/update/1">Update</Link>
              </li>
              <li>
                <button>Delete</button>
              </li>
            </ul>
          </body>
        </html>
      );
    }
    ```

  - ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ ì„œ ì²˜ë¦¬ ğŸ‘

    ```javascript
    // Control ì»´í¬ë„ŒíŠ¸
    "use client";
    import Link from "next/link";
    import { useParams } from "next/navigation";

    export function Control() {
      // ğŸ‘‰ PathVariableê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
      const params = useParams();
      const id = params.id;
      console.log(id);
      return (
        <ul>
          <li>
            <Link href="/create">Create</Link>
          </li>
          // ğŸ‘‰ ì¡°ê±´ì‹ì„ ì‚¬ìš©í•´ì„œ ë³´ì´ê³  ì•ˆë³´ì´ê³  ì„¤ì •
          {id ? (
            <>
              <li>
                <Link href="/update/1">Update</Link>
              </li>
              <li>
                <button>Delete</button>
              </li>
            </>
          ) : null}
        </ul>
      );
    }

    /****************************************************/

    // layout.js - Control ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì²˜ë¦¬
    import Link from "next/link";
    import "./globals.css";
    import { Control } from "./Control";
    export const metadata = {
      title: "Create Next App222",
      description: "Generated by create next app",
    };
    export default async function RootLayout({ children }) {
      return (
        <html>
          <body>
            {children}
            <Control />
          </body>
        </html>
      );
    ```

## `useRouter()`

- í•´ë‹¹ Urlì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- NextJs ì„¤ì¹˜ ì‹œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆê¸°ì— ë°”ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- ì˜ˆì‹œ ì½”ë“œ

  ```javascript
  import Link from "next/link";
  import { useRouter } from "next/router";

  const activeNav = (path) => {
    // ğŸ’¬ NextJsì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ routerê°€ ì„¤ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ë§Œ í•˜ë©´ëœë‹¤.
    //    - í•´ë‹¹ í•¨ìˆ˜ ë‚´ì—ëŠ” rotuerì— ëŒ€í•œ ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•¨
    const router = useRouter;
    return {
      color: path === router().pathname ? "red" : null,
    };
  };

  export default function NavBar() {
    return (
      <nav>
        <Link href="/" style={activeNav("/")}>
          Home
        </Link>
        <Link href="/about" style={activeNav("/about")}>
          About
        </Link>
      </nav>
    );
  }
  ```

## ê³µí†µì˜ì—­ ì²˜ë¦¬ ë°©ë²• - ì „ì—­ ì²˜ë¦¬

- springì˜ jsp ë”°ì§€ë©´ `include` Tymeleafë¡œ ë”°ì§€ë©´ `fagment`ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤.
- ê³µí†µì ì¸ í‹€ì„ ë§Œë“œëŠ” ê²ƒì€ ë¬¼ë¡ ì´ê³  Global css ë˜í•œ í•´ë‹¹ ìœ„ì¹˜ì— ì ìš©í•´ì•¼í•œë‹¤ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
  - â­ï¸ ì¼ë°˜ ì»´í¬ë„ŒíŠ¸ì— CSS ì ìš© ì‹œ ë°œìƒ í•˜ëŠ” ì—ëŸ¬
    - Message : Global CSS cannot be imported from files other than your Custom <App>.
- ì£¼ì˜ ì‚¬í•­

  - 1 . â­ï¸ íŒŒì¼ëª…ì€ **ë¬´ì¡°ê±´** `_app.js`ì´ì–´ì•¼í•œë‹¤ . í”„ë ˆì„ì›Œí¬ì—ì„œ ì»´í¬ë„ŒíŠ¸ì¤‘ì—ì„œ ê°€ì¥ ë¨¼ì € ì½ëŠ” ë„¤ì´ë°ì´ê¸° ë•Œë¬¸ì´ë‹¤!
  - 2 . í•´ë‹¹ ì»´í¬ëŠ”íŠ¸ì˜ ê¸°ë³¸í‹€ì„ ê¼­ ì§€ì¼œì£¼ì

    - `{ Component, pagePrpos }` íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ê²ƒ
    - `<Component {...pagePrpos}></Component>`í˜•íƒœë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ

    ```javascript
    /***
     * ğŸ‘‰ { Component, pagePrpos } í•´ë‹¹ íŒŒë¼ë¯¸í„° 2ê°œëŠ” í•„ìˆ˜ì´ë‹¤.
     * - ê¸°ë³¸ì ì¸ í‹€ì´ë©° ë”°ë¥´ë©´ ëœë‹¤,.
     *  - Component ê²½ìš° ìš°ë¦¬ê°€ ìƒì„±í•˜ëŠ” ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ë¼ ìƒê°í•˜ê³ 
     *  - pagePrpos ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” pagePropsì´ë‹¤
     */
    export default function App({ Component, pagePrpos }) {
      return (
        <>
          {/* âœ… ì•„ë˜ì˜ í˜•ì‹ì„ ê¼­ ì‚¬ìš©í•´ì•¼í•œë‹¤ ìŠ¤í”„ë ˆë“œ ì‹œíŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ pagePropsë¥¼ ë„˜ê²¨ì£¼ì */}
          <Component {...pagePrpos}></Component>
        </>
      );
    }
    ```

- í™œìš© ( ì „ì—­ Cssì™€ Nav Component ì‚¬ìš© )

  - \_app.js

    ```javascript
    // ğŸ‘‰ NavBar Import
    import NavBar from "@/component/NavBar";
    // ğŸ‘‰ ì „ì—­ cssë¥¼ ë¶ˆëŸ¬ì™€ë„ ì—ëŸ¬ê°€ ì—†ë‹¤ ğŸ‘
    import "../styles/globals.css";

    export default function App({ Component, pagePrpos }) {
      return (
        <>
          {/** ğŸ‘‰ Nav ì»´í¬ë„ŒíŠ¸ Call */}
          <NavBar></NavBar>

          <Component {...pagePrpos}></Component>

          <span>ì´ëŸ°ì‹ìœ¼ë¡œ ì—¬ëŸ¬ê°€ì§€ë¥¼ ì¶”ê°€ ê°€ëŠ¥í•¨ ! Footerë„£ì!</span>
        </>
      );
    }
    ```

- `_app.js`ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì‚¬ìš©í•˜ëŠ” íŒ¨í„´

  - íŒ¨í„´ ì‚¬ìš© ì´ìœ 
    - `_app.js`ì—ëŠ” ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê²ƒë“¤ì´ ë§ì´ Import ëœë‹¤.
    - ê·¸ë ‡ë‹¤ë©´ ì—„ì²­ë‚˜ê²Œ ê¸¸ì–´ì§ˆ ê²ƒì´ë©° ì´ëŸ¬í•œ ì½”ë“œëŠ” ë³´ê¸°ë„ ê´€ë¦¬í•˜ê¸°ë„ í˜ë“¤ì–´ì§„ë‹¤.
  - ì˜ˆì‹œ ì½”ë“œ

    - components -> Layout.js

      ```javascript
      import NavBar from "./NavBar";

      // ğŸ‘‰ í•˜ìœ„ë¡œ ë“¤ì–´ì˜¨ ëª¨ë“  ìš”ì†Œë“¤ì€ childrenìœ¼ë¡œ ë°›ìŒ
      export default function Layout({ children }) {
        return (
          <>
            <NavBar></NavBar>
            // ğŸ‘‰ ì‚¬ìš©
            <div>{children}</div>
          </>
        );
      }
      ```

    - \_app.js

      ```javascript
      import Layout from "@/component/Layout";
      import "../styles/globals.css";

      export default function App({ Component, pagePrpos }) {
        return (
          <>
            {/* âœ… Layout í•˜ìœ„ì— ë“¤ì–´ì˜¨ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ê°€ ì¤‘ìš”í•¨ */}
            <Layout>
              <Component {...pagePrpos}></Component>
            </Layout>
          </>
        );
      }
      ```

## Header ì •ë³´ ë³€ê²½

- NextJsì—ì„œëŠ” Header ì •ë³´ë¥¼ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ” Libraryê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆì–´ í¸í•˜ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
- í•´ë‹¹ `Head` ë˜í•œ ëœë”ë§ ë  ë•Œ ì ìš©ë˜ë¯€ë¡œ ê³µí†µì ìœ¼ë¡œ ëœë”ë§ ë˜ëŠ” ìœ„ì¹˜ì— ì ìš©í•˜ëŠ”ê²ƒì´ ì˜³ë‹¤.
  - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë§Œì•½ about ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì‘ì—…í–ˆë‹¤ë©´ aboutì—ì„œë§Œ ì ìš©ë¨.
- ì˜ˆì‹œ ì½”ë“œ

  - HeadTitle.js

    ```javascript
    // ğŸ‘‰ NextJs ì„¤ì¹˜ ì‹œ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ Import!
    import Head from "next/head";

    // ğŸ‘‰ Objectí˜•íƒœë¡œ íŒŒë¼ë¯¸í„°ê°€ ë„˜ì–´ì˜¤ê¸° ë–„ë¬¸ì— {}ì‚¬ìš© í•„ìˆ˜!
    export default function HeadTitle({ titleName }) {
      return (
        // ğŸ‘‰ Head ì‚¬ìš©í•´ì„œ headerì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°’ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤!
        <Head>
          <title>{titleName} | Moive!</title>
        </Head>
      );
    }
    ```

  - Layout.js

        ```javascript
        import HeadTitle from "./HeadTitle";
        import NavBar from "./NavBar";

        export default function Layout({ children }) {
          return (
            <>
              {/* ğŸ‘‰ titleNameíŒŒë¼ë¯¸í„°ëª…ì„ ë§ì¶°ì„œ ë„˜ê²¨ì£¼ì */}
              <HeadTitle titleName={"Movie!"}></HeadTitle>
              <NavBar></NavBar>
              <div>{children}</div>
            </>
          );
        }
        ```

## pre rendering - êµ¬ë²„ì „ìš© .. ì´ì œ ì“¸ìˆ˜ ì—†ìŒ ë ˆê±°ì‹œ ì½”ë“œì—ëŠ” ë‚¨ì•„ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ .. ì°¸ê³ í•˜ì

- íŠ¹ì • í˜ì´ì§€ í˜¹ì€ ìƒí™©ì— ë”°ë¼ ë°ì´í„° ëª©ë¡ì„ ë¡œë”© í›„ ë³´ì—¬ì§€ëŠ” ê²ƒì´ ì•„ë‹Œ ì„œë²„ì—ì„œ ëª©ë¡ì„ ë°›ì•„ì˜¨ í›„ ì ìš©í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
  - ìƒí™©ì— ë”°ë¼ `SEO`ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ í™ˆ í™”ë©´ì— ë§Œë“¤ ê²½ìš° ìœ ìš©í•  ê²ƒìœ¼ë¡œ ì¶”ì¸¡í•¨
  - ë¡œë”© í™”ë©´ì´ ì—†ì´ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ê³  ê·¸ í›„ ë‹¤ ë°›ì•„ì§„ ì´í›„ í™”ë©´ì„ ëœë”ë§í•¨.
- â­ï¸ ì‚¬ìš© ì‹œ ì¤‘ìš”
  - `export`ë¥¼ ê¼­ í•´ì¤˜ì•¼í•œë‹¤. --> `export async function `
  - í•¨ìˆ˜ëª…ì´ í‹€ë¦¬ë©´ ì•ˆëœë‹¤. --> `getServerSideProps`
- ì‚¬ìš© ì˜ˆì‹œ

  - index.js

    ```javascript
    // ğŸ‘‰ { results } ë£° ì‚¬ìš©í•´ì„œ ServerSideDataë¥¼ ë°›ì•„ì˜´
    export default function Home({ results }) {
      return (
        <div className="container">
          {results.map((item) => (
            <div className="movie" key={item.id}>
              <img
                src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}
              />
              <h4>{item.original_title}</h4>
            </div>
          ))}
        </div>
      );
    }

    // ğŸ‘‰ í•¨ìˆ˜ëª…ì´ ì¤‘ìš”í•¨ NextJsì—ì„œ ì •í•´ì§„ í•¨ìˆ˜ëª…ì„
    export async function getServerSideProps() {
      const { results } =
        await // ğŸ’¬ ì„œë²„ì—ì„œ ìš”ì²­í•˜ë¯€ë¡œ rewirteë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•ì— ë„ë©”ì¸ ì •ë³´ê°€ í•„ìˆ˜ì„
        (await fetch(`http://localhost:3000/api/movies`)).json();
      return {
        props: {
          results,
        },
      };
    }
    ```

## Dynamic Route - /path/\*\*

- ì´ì „ê¹Œì§€ëŠ” Path ì •ë³´ê°€ í•˜ë‚˜ ë¿ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê°œë…ì´ì—ˆë‹¤ë©´ ì´ì œëŠ” ë³€ìˆ˜ê°’ í˜¹ì€ ì¢€ ë” ì„¸ë¶„í™”ëœ urlë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆ ì„œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

- ê°„ë‹¨í•˜ê²Œ ê·¸ëƒ¥ í´ë”ë¥¼ ë‘ë©´ ê·¸ê²Œ í•˜ë‚˜ì˜ pathê°€ ëœë‹¤.
- ì¤‘ìš”í•œê±´ í•´ë‹¹ í´ë” ë˜í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°–ê²Œ í•˜ê³ ì‹¶ë‹¤ë©´ `index.js`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤.
- êµ¬ì¡°
  - page
    - blackGom
      - index.js : `localhost:3000/blackGome` ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë„ì¶œ
      - all.js : `localhost:3000/blackGome/all`

## PathVariable - [Next13 ì´ì „]

- ê°„ë‹¨í•˜ë‹¤ í•´ë‹¹ í´ë”ë¥¼ ìƒì„± í•œ í›„ `[ë³€ìˆ˜ëª…].js`ë¡œ ë§Œë“¤ë©´ í•´ë‹¹ ë³€ìˆ˜ë¥¼ `useRouter` Hookì„ ì´ìš©í•´ ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
- í´ë” êµ¬ì¡°

  - pages
    - movive
      - [id].js
  - ì‚¬ìš© ì˜ˆì‹œ

    - [id].js

      ```javascript
      import { useRouter } from "next/router";

      export default function Detail() {
        // â­ï¸ Hookeì„ ì´ìš©í•´ì„œ ë‚´ê°€ ì§€ì •í•œ idê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŒ
        const router = useRouter;
        console.log(router().query.id);
        return <div>ì´ë ‡ê²Œ ë°›ì„ìˆ˜ ìˆì§€ìš”~</div>;
      }
      ```

## PathVariable - [Next13 ì´í›„]

- ì‚¬ìš©í•  ìƒˆê·¸ë¨¼íŠ¸ëª… í´ë”ë¥¼ ìƒì„± í›„ `[ë³€ìˆ˜ëª…]`í´ë” ìƒì„±
- í•´ë‹¹ í´ë” ë‚´ë¶€ì— `page.js` ìƒì„±
- ë§¤ê°œë³€ìˆ˜ë¡œ `{ params }`ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©

  - í´ë” êµ¬ì¡°
  - src
    - app
      - read
        - [...id] or [id]
          - page.js
  - ì‚¬ìš© ì˜ˆì‹œ

    - page.js

      ```javascript
      export default function page({ params }) {
        // ğŸ‘‰ ì ‘ê·¼ ì‹œ :  http://localhost:3000/read/1/23/4
        console.log(params); // { id: [ '1', '23', '4' ] }
        return <div>{params.id}</div>;
      }
      ```

## All-Catch - [...id]ì¼ ê²½ìš° ë°°ì—´ í˜•íƒœë¡œ

- ì´ì „ ì˜ˆì œì—ì„œëŠ” `loclahost:3000/movies/:id` ì™€ ê°™ì€ ì‹ìœ¼ë¡œ í•œê°œì˜ ê°’ ë§Œ ë°›ì•„ ì™”ì—ˆì§€ë§Œ ì—¬ëŸ¬ê°œë¥¼ ë°°ì—´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.
- ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ ì•Œì•„ë‘ë©´ í•„ìš”í•  ê²½ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ìš© ë°©ë²•

  - ê¸°ì¡´ ì˜ˆì œì—ì„œ ì‚¬ìš©í•˜ë˜ `[id].js`íŒŒì¼ -> `[...id].js`ë¡œ ë³€ê²½í•˜ë©´ ì•Œì•„ì„œ ë°°ì—´ë¡œ ë°›ì•„ì˜¨ë‹¤!
  - [...id].js

    ```javascript
    import { useRouter } from "next/router";

    export default function Detail() {
      const router = useRouter();
      console.log("------------------");
      console.log(router.query.id); // ğŸ‘‰ [] í˜•íƒœë¡œ ë“¤ì–´ì˜´

      const id = router.query.id;
      return <div>{id}</div>;
    }
    ```

## `Link Tag`í™œìš© ë° `useRouter()`ë¥¼ ì‚¬ìš©í•´ì„œ ê°™ì€ ê¸°ëŠ¥ êµ¬í˜„

- ì´ë²¤íŠ¸ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê±°ê¸°ì— `useRouter()`ë¥¼ ì‚¬ìš©í•´ì„œ pushí•´ì£¼ë©´ ëœë‹¤.
  - â­ï¸ ì¤‘ìš” í¬ì¸íŠ¸ëŠ” `useRouter()` ì„ ì–¸ ìœ„ì¹˜ê°€ `useEffect()` ë°‘ì— ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ëœ¬ë‹¤ .
    - ì‚¬ìš©ì—ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ ì½˜ì†”ì— ì—ëŸ¬ê°€ ëœ¸
- `router.push()` í˜•íƒœë¡œ ê°’ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤.
- `{}` Object êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
  - ê·¸ëƒ¥ `router.push(url)` ì‚¬ìš© ì‹œ ì¼ë°˜ ì´ë™
  - Object êµ¬ì¡°ì¼ ê²½ìš° `quertParameter` ì‚¬ìš© ê°€ëŠ¥
  - `router.push({}, "~~~" )`ì²˜ëŸ¼ ì‚¬ìš© ì‹œ Url ë§ˆìŠ¤í‚¹ ê°€ëŠ¥
- ì‚¬ìš© ì˜ˆì‹œ

  - index.js

    ```javascript
    import { useRouter } from "next/router";

    export default function Home() {
      const [movies, setMovies] = useState([]);
      // â­ï¸ ìˆœì„œê°€ ì¤‘ìš”í•¨ useEffectë³´ë‹¤ ì•„ë˜ìˆìœ¼ë©´ ì—ëŸ¬ ë°œìƒí•¨
      const router = useRouter();
      // ğŸ‘‰ Link Tagë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•´ë‹¹ ë°©ë²•ìœ¼ë¡œë„ ê°™ì€ ê¸°ëŠ¥ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
      const onClick = (id) => {
        /**
         * âœ… JSON êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´  url ë§ê³ ë„ queryParameterë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤
         * - pathname : ì´ë™í•˜ë ¤ëŠ” path ì •ë³´
         * - query {}  : queryParameter
         * - push({}, "ì´ë™ ì‹œ ì‹œ ì‚¬ìš©ë  pathì •ë³´")  >>> â­ï¸ ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ queryParameterë¥¼ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤!!
         *     - ì´ëŸ° ë°©ì‹ì˜ í™œìš©ì€ ë‚´ë¶€ ë¡œì§ì„ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ë³¼ë•ŒëŠ” ì¿¼ë¦¬íŒŒëŒì—†ì´ í•´í‚¹ ê°€ëŠ¥ ì´ë„¤ í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ì¿¼ë¦¬íŒŒë¼ë¯¸í„°ê°€ ì—†ì–´ì„œ íŠ•ê²¨ë‚¼ ìˆ˜ ë„ ìˆë‹¤.
         * - ğŸ’¬ Link íƒœê·¸ì—ì„œë„ ë˜‘ê°™ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ ê·¸ëƒ¥ ë˜‘ê°™ì´ ë„£ìœ¼ë©´ ëœë‹¤!!
         */
        router.push(
          { pathname: `/movies/${id}`, query: { title: "yooo" } },
          `/movies/${id}`
        );
      };

      return (
        <div className="container">
          {movies.map((item) => (
            <div className="movie" key={item.id}>
              <img
                // ğŸ‘‰ í•¨ìˆ˜ í˜¸ì¶œ
                onClick={() => onClick(item.id)}
                src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`}
              />
            </div>
          ))}
        </div>
      );
    }
    ```

## 404 í˜ì´ì§€ ì„¤ì • ë°©ë²•

- ê°„ë‹¨í•˜ê²Œ `404.js`íŒŒì¼ì„ ë§Œë“¤ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ ëì´ë‹¤.

  - ì˜ˆì‹œ ì½”ë“œ

    ```javascript
    export default function Error404() {
      return <div>404Error</div>;
    }
    ```
